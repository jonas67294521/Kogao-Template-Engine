!function(o){o.litelighter=function(e,t){this.settings=o.extend({},{clone:!1,style:"light",language:"generic",tab:"    "},t),this.code=e,this.enable()},o.extend(o.litelighter.prototype,{enable:function(){this.codelite=this.code.data("llcode",this.code.text()),1==this.settings.clone&&(this.codelite=o("<pre />").text(this.code.text()).addClass("litelighter").insertAfter(this.code.css("display","none"))),this.code.data("lllanguage")&&(this.settings.language=this.code.data("lllanguage")),this.code.data("llstyle")&&(this.settings.style=this.code.data("llstyle"));var e=o.litelighter.styles[this.settings.style],t=o.litelighter.languages[this.settings.language],l=o.litelighter.highlight(this.codelite.html(),e,t).replace(/\t/g,this.settings.tab);return this.codelite.attr("style",e.code).html(l),this.code},disable:function(){return this.settings.clone?(this.codelite.remove(),this.code.css("display","block")):this.code.html("").text(this.code.data("llcode"))},destroy:function(){return this.disable(),this.code.removeData("litelighter")},option:function(e,t){return void 0!==t?(this.code.data("ll"+e,t),this.settings[e]=t,this.disable(),this.enable()):this[e]}}),o.litelighter.lookup={i:0},o.fn.litelighter=function(t){t=t||{};var l=Array.prototype.slice.call(arguments);return"string"==typeof t?this.each(function(){var e=o.litelighter.lookup[o(this).data("litelighter")];e[t].apply(e,l.slice(1))}):this.each(function(){var e=o(this);o.litelighter.lookup[++o.litelighter.lookup.i]=new o.litelighter(e,t),e.data("litelighter",o.litelighter.lookup.i)})},o.litelighter.highlight=function(e,i,r){var s=0,n=[];for(var g in r)r.hasOwnProperty(g)&&void 0!==r[g].language&&void 0!==o.litelighter.languages[r[g].language]&&(e=e.replace(r[g].re,function(e,t,l){return n[s++]=o.litelighter.highlight(t,i,o.litelighter.languages[r[g].language]),e.replace(t,"___subtmpl"+(s-1)+"___")}));for(var g in r)r.hasOwnProperty(g)&&void 0===r[g].language&&(e=e.replace(r[g].re,"___"+g+"___$1___end"+g+"___"));var a=[];for(var g in e=e.replace(/___(?!subtmpl)\w+?___/g,function(e){var t="end"==e.substr(3,3),l=(t?e.substr(6):e.substr(3)).replace(/_/g,""),i=0<a.length?a[a.length-1]:null;return!t&&(null==i||l==i||null!=i&&null!=r[i].embed&&0<=o.inArray(l,r[i].embed))?(a.push(l),e):t&&l==i?(a.pop(),e):""}),r)r.hasOwnProperty(g)&&(e=e.replace(new RegExp("___end"+g+"___","g"),"</span>").replace(new RegExp("___"+g+"___","g"),"<span class='litelighterstyle' style='"+i[r[g].style]+"'>"));for(var g in r)r.hasOwnProperty(g)&&void 0!==r[g].language&&void 0!==o.litelighter.languages[r[g].language]&&(e=e.replace(/___subtmpl\d+___/g,function(e){var t=parseInt(e.replace(/___subtmpl(\d+)___/,"$1"),10);return n[t]}));return e},o.litelighter.styles={light:{code:"background-color:#fafafa;color:#555;",comment:"color:#999",string:"color:#8F9657",number:"color:#CF6745;",keyword:"color:#6F87A8;",operators:"color:#9e771e;"},dark:{code:"background-color:#141414;color:#ffffff;",comment:"color:#999",string:"color:#8F9657",number:"color:#CF6745;",keyword:"color:#6F87A8;",operators:"color:#fee79e;"}},o.litelighter.languages={generic:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/((\'.*?\')|(\".*?\"))/g,style:"string"},numbers:{re:/(\-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},regex:{re:/([^\/]\/[^\/].+\/(g|i|m)*)/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operators:{re:/(\+|\-|\/|\*|\%|\=|\&lt;|\&gt;|\||\?|\.)/g,style:"operators"}}},o.litelighter.languages.js=o.litelighter.languages.generic,o.litelighter.languages.css={comment:o.litelighter.languages.generic.comment,string:o.litelighter.languages.generic.string,numbers:{re:/((\-?(\d+|\d+\.\d+|\.\d+)(\%|px|em|pt|in)?)|\#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(\@\w+|\:?\:\w+|[a-z\-]+\:)/g,style:"keyword"}},o.litelighter.languages.html={comment:{re:/(\&lt\;\!\-\-([\s\S]*?)\-\-\&gt\;)/g,style:"comment"},tag:{re:/(\&lt\;\/?\w(.|\n)*?\/?\&gt\;)/g,style:"keyword",embed:["string"]},string:o.litelighter.languages.generic.string,css:{re:/(?:\&lt;style.*?\&gt;)([\s\S]+?)(?:\&lt;\/style\&gt;)/gi,language:"css"},script:{re:/(?:\&lt;script.*?\&gt;)([\s\S]+?)(?:\&lt;\/script\&gt;)/gi,language:"js"}}}(window.jQuery||window.Zepto||window.$);
!function(k){"use strict";k.fn.selectOrDie=function(e){var r,i,t={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:k.noop},_={},p=!1,x={initSoD:function(e){return _=k.extend({},t,e),this.each(function(){if(k(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var a,e,o,t=k(this),s=t.data("custom-id")?t.data("custom-id"):_.customID,l=t.data("custom-class")?t.data("custom-class"):_.customClass,i=t.data("prefix")?t.data("prefix"):_.prefix,d=t.data("placeholder")?t.data("placeholder"):_.placeholder,n=t.data("placeholder-option")?t.data("placeholder-option"):_.placeholderOption,c=t.data("cycle")?t.data("cycle"):_.cycle,r=t.data("links")?t.data("links"):_.links,p=t.data("links-external")?t.data("links-external"):_.linksExternal,h=parseInt(t.data("size"))?t.data("size"):_.size,u=parseInt(t.data("tabindex"))?t.data("tabindex"):_.tabIndex?_.tabIndex:t.attr("tabindex")?t.attr("tabindex"):_.tabIndex,f=t.data("strip-empty")?t.data("strip-empty"):_.stripEmpty,b=t.prop("title")?t.prop("title"):null,C=t.is(":disabled")?" disabled":"",v="",g="",m=0;i&&(v='<span class="sod_prefix">'+i+"</span> "),a=k("<span/>",{id:s,class:"sod_select "+l+C,title:b,tabindex:u,html:g+=d&&!i?'<span class="sod_label sod_placeholder">'+d+"</span>":'<span class="sod_label">'+v+"</span>","data-cycle":c,"data-links":r,"data-links-external":p,"data-placeholder":d,"data-placeholder-option":n,"data-prefix":i,"data-filter":""}).insertAfter(this),x.isTouch()&&a.addClass("touch"),e=k("<span/>",{class:"sod_list_wrapper"}).appendTo(a),o=k("<span/>",{class:"sod_list"}).appendTo(e),k("option, optgroup",t).each(function(e){var t=k(this);f&&!k.trim(t.text())?t.remove():0===e&&n&&!v?x.populateSoD(t,o,a,!0):x.populateSoD(t,o,a,!1)}),h&&(e.show(),k(".sod_option:lt("+h+")",o).each(function(){m+=k(this).outerHeight()}),e.removeAttr("style"),o.css({"max-height":m})),t.appendTo(a),a.on("focusin",x.focusSod).on("click",x.triggerSod).on("click",".sod_option",x.optionClick).on("mousemove",".sod_option",x.optionHover).on("keydown",x.keyboardUse),t.on("change",x.selectChange),k(document).on("click","label[for='"+t.attr("id")+"']",function(e){e.preventDefault(),a.focus()})}})},populateSoD:function(e,t,a,o){var s=a.data("placeholder"),l=a.data("placeholder-option"),i=a.data("prefix"),d=a.find(".sod_label"),n=e.parent(),c=e.text(),r=e.val(),p=e.data("custom-id")?e.data("custom-id"):null,h=e.data("custom-class")?e.data("custom-class"):"",u=e.is(":disabled")?" disabled ":"",f=e.is(":selected")?" selected active ":"",b=e.data("link")?" link ":"",C=e.data("link-external")?" linkexternal":"",v=e.prop("label");e.is("option")?(k("<span/>",{class:"sod_option "+h+u+f+b+C,id:p,title:c,html:c,"data-value":r}).appendTo(t),o&&!i?(a.data("label",c),a.data("placeholder",c),e.prop("disabled",!0),t.find(".sod_option:last").addClass("is-placeholder disabled"),f&&d.addClass("sod_placeholder")):f&&s&&!l&&!i?a.data("label",s):f&&a.data("label",c),(f&&!s||f&&l||f&&i)&&d.append(c),n.is("optgroup")&&(t.find(".sod_option:last").addClass("groupchild"),n.is(":disabled")&&t.find(".sod_option:last").addClass("disabled"))):k("<span/>",{class:"sod_option optgroup "+u,title:v,html:v,"data-label":v}).appendTo(t)},focusSod:function(){var e=k(this);e.hasClass("disabled")?x.blurSod(e):(x.blurSod(k(".sod_select.focus").not(e)),e.addClass("focus"),k("html").on("click.sodBlur",function(){x.blurSod(e)}))},triggerSod:function(e){e.stopPropagation();var t=k(this),a=t.find(".sod_list"),o=t.data("placeholder"),s=t.find(".active"),l=t.find(".selected");t.hasClass("disabled")||t.hasClass("open")||t.hasClass("touch")?(clearTimeout(i),t.removeClass("open"),o&&(t.find(".sod_label").get(0).lastChild.nodeValue=s.text())):(t.addClass("open"),o&&!t.data("prefix")&&t.find(".sod_label").addClass("sod_placeholder").html(o),x.listScroll(a,l),x.checkViewport(t,a))},keyboardUse:function(e){var t,a,o,s=k(this),l=s.find(".sod_list"),i=s.find(".sod_option"),d=s.find(".sod_label"),n=s.data("cycle"),c=i.filter(".active");return 36<e.which&&e.which<41?(37===e.which||38===e.which?(a=c.prevAll(":not('.disabled, .optgroup')").first(),o=i.not(".disabled, .optgroup").last()):(39===e.which||40===e.which)&&(a=c.nextAll(":not('.disabled, .optgroup')").first(),o=i.not(".disabled, .optgroup").first()),!a.hasClass("sod_option")&&n&&(a=o),(a.hasClass("sod_option")||n)&&(c.removeClass("active"),a.addClass("active"),d.get(0).lastChild.nodeValue=a.text(),x.listScroll(l,a),s.hasClass("open")||(p=!0)),!1):(13===e.which||32===e.which&&s.hasClass("open")&&(" "===s.data("filter")[0]||""===s.data("filter"))?(e.preventDefault(),c.click()):32!==e.which||s.hasClass("open")||" "!==s.data("filter")[0]&&""!==s.data("filter")?27===e.which&&x.blurSod(s):(e.preventDefault(),p=!1,s.click()),void(0!==e.which&&(clearTimeout(r),s.data("filter",s.data("filter")+String.fromCharCode(e.which)),(t=i.filter(function(){return 0===k(this).text().toLowerCase().indexOf(s.data("filter").toLowerCase())}).not(".disabled, .optgroup").first()).length&&(c.removeClass("active"),t.addClass("active"),x.listScroll(l,t),d.get(0).lastChild.nodeValue=t.text(),s.hasClass("open")||(p=!0)),r=setTimeout(function(){s.data("filter","")},500))))},optionHover:function(){var e=k(this);e.hasClass("disabled")||e.hasClass("optgroup")||e.siblings().removeClass("active").end().addClass("active")},optionClick:function(e){e.stopPropagation();var t=k(this),a=t.closest(".sod_select"),o=t.hasClass("disabled"),s=t.hasClass("optgroup"),l=a.find(".sod_option:not('.optgroup')").index(this);a.hasClass("touch")||(o||s||(a.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),t.addClass("selected"),a.find("select option")[l].selected=!0,a.find("select").change()),clearTimeout(i),a.removeClass("open"))},selectChange:function(){var e=k(this),t=e.find(":selected"),a=t.text(),o=e.closest(".sod_select");o.find(".sod_label").get(0).lastChild.nodeValue=a,o.data("label",a),_.onChange.call(this),!o.data("links")&&!t.data("link")||t.data("link-external")?(o.data("links-external")||t.data("link-external"))&&window.open(t.val(),"_blank"):window.location.href=t.val()},blurSod:function(e){if(k("body").find(e).length){var t=e.data("label"),a=e.data("placeholder"),o=e.find(".active"),s=e.find(".selected"),l=!1;clearTimeout(i),p&&!o.hasClass("selected")?(o.click(),l=!0):o.hasClass("selected")||(o.removeClass("active"),s.addClass("active")),!l&&a?e.find(".sod_label").get(0).lastChild.nodeValue=s.text():l||(e.find(".sod_label").get(0).lastChild.nodeValue=t),p=!1,e.removeClass("open focus"),e.blur(),k("html").off(".sodBlur")}},checkViewport:function(e,t){var a=e[0].getBoundingClientRect(),o=t.outerHeight();a.bottom+o+10>k(window).height()&&10<a.top-o?e.addClass("above"):e.removeClass("above"),i=setTimeout(function(){x.checkViewport(e,t)},200)},listScroll:function(e,t){var a=e[0].getBoundingClientRect(),o=t[0].getBoundingClientRect();a.top>o.top?e.scrollTop(e.scrollTop()-a.top+o.top):a.bottom<o.bottom&&e.scrollTop(e.scrollTop()-a.bottom+o.bottom)},isTouch:function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}},a={destroy:function(){return this.each(function(){var e=k(this),t=e.parent();t.hasClass("sod_select")?(e.off("change"),t.find("span").remove(),e.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(){var e=k(this),t=e.parent(),a=t.find(".sod_list:first");t.hasClass("sod_select")?(a.empty(),t.find(".sod_label").get(0).lastChild.nodeValue="",e.is(":disabled")&&t.addClass("disabled"),k("option, optgroup",e).each(function(){x.populateSoD(k(this),a,t)})):console.log("Select or Die: There's no SoD to update")})},disable:function(a){return this.each(function(){var e=k(this),t=e.parent();t.hasClass("sod_select")?void 0!==a?(t.find(".sod_list:first .sod_option[data-value='"+a+"']").addClass("disabled"),t.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").addClass("disabled"),k("option[value='"+a+"'], optgroup[label='"+a+"']",this).prop("disabled",!0)):t.hasClass("sod_select")&&(t.addClass("disabled"),e.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(a){return this.each(function(){var e=k(this),t=e.parent();t.hasClass("sod_select")?void 0!==a?(t.find(".sod_list:first .sod_option[data-value='"+a+"']").removeClass("disabled"),t.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),k("option[value='"+a+"'], optgroup[label='"+a+"']",this).prop("disabled",!1)):t.hasClass("sod_select")&&(t.removeClass("disabled"),e.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void k.error('Select or Die: Oh no! No such method "'+e+'" for the SoD instance'):x.initSoD.apply(this,arguments)}}(jQuery);
